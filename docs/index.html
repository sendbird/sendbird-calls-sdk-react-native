<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@sendbird/calls-react-native</title><meta name="description" content="Documentation for @sendbird/calls-react-native"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@sendbird/calls-react-native</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@sendbird/calls-react-native</h1></div><div class="tsd-panel tsd-typography"><h1 id="sendbird-calls-sdk-for-react-native" class="tsd-anchor-link"><a href="https://sendbird.com">Sendbird</a> Calls SDK for React-Native<a href="#sendbird-calls-sdk-for-react-native" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><span>
<img src="https://img.shields.io/badge/React Native-0.60+-black?logo=react" alt="RN 0.60+" >
<img src="https://img.shields.io/badge/iOS-11+-lightgray?logo=apple" alt="iOS 12.0+" >
<img src="https://img.shields.io/badge/Android-21+-green?logo=android" alt="Android 21.0+" />
</span>
<h2 id="table-of-contents" class="tsd-anchor-link">Table of contents<a href="#table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ol>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#before-getting-started">Before getting started</a></li>
<li><a href="#getting-started">Getting started</a></li>
<li><a href="#configuring-the-application-for-the-sdk">Configuring the application for the SDK</a></li>
<li><a href="#making-your-first-call">Making your first call</a></li>
<li><a href="#implementation-direct-call-guide">Implementation direct call guide</a></li>
<li><a href="#making-your-first-group-call">Making your first group call</a></li>
<li><a href="#implementation-group-call-guide">Implementation group call guide</a></li>
<li><a href="#appendix">Appendix</a></li>
</ol>
<br />
<h2 id="introduction" class="tsd-anchor-link">Introduction<a href="#introduction" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><strong>Sendbird Calls</strong> is the latest addition to our product portfolio. It enables real-time calls between users within a Sendbird application. SDKs are provided for iOS, Android, and JavaScript. Using any one of these, developers can quickly integrate voice and video call functions into their own client apps, allowing users to make and receive web-based real-time voice and video calls on the Sendbird platform.</p>
<blockquote>
<p>If you need any help in resolving any issues or have questions, please visit <a href="https://community.sendbird.com">our community</a></p>
</blockquote>
<h3 id="how-it-works" class="tsd-anchor-link">How it works<a href="#how-it-works" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Sendbird Calls SDK for React-Native provides a module to make and receive voice and video calls. <strong>Direct calls</strong> in the SDK refers to one-to-one calls. To make a direct voice or video call, the caller specifies the user ID of the intended callee, and dials. Upon dialing, all of the calleeâ€™s authenticated devices will receive notifications for an incoming call. The callee then can choose to accept the call from any one of the devices. When the call is accepted, a connection is established between the devices of the caller and the callee. This marks the start of a direct call.</p>
<p><strong>Group calls</strong> in the SDK refers to many-to-many calls. One person creates a room, and multiple people can join the room by using the room ID of the created room.</p>
<p>In both <strong>Direct calls</strong> and <strong>Group calls</strong>, participants can control audio devices like mute or unmute audio and video devices such as toggle between the front and rear camera. With this, they're possible to participate in the calls using both or only one of them.</p>
<p>The <a href="https://dashboard.sendbird.com/auth/signin">Sendbird Dashboard</a> displays <strong>Direct calls</strong> logs in the Calls menu for dashboard owners and admins to review. And you can see the created <strong>Group calls</strong> room information and the entering and exiting times of users who participated in the room.</p>
<h3 id="more-about-sendbird-calls-sdk-for-react-native" class="tsd-anchor-link">More about Sendbird Calls SDK for React-Native<a href="#more-about-sendbird-calls-sdk-for-react-native" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Find out more about Sendbird Calls for React-Native on Calls SDK for React-Native doc.</p>
<br />
<h2 id="before-getting-started" class="tsd-anchor-link">Before getting started<a href="#before-getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This section shows the prerequisites you need to check to use Sendbird Calls SDK for React-Native.</p>
<h3 id="requirements" class="tsd-anchor-link">Requirements<a href="#requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>React-Native 0.60 or higher</li>
<li>iOS 12.0 or higher</li>
<li>Android 5.0 (API level 21) or higher</li>
</ul>
<h3 id="sdk-dependencies" class="tsd-anchor-link">SDK dependencies<a href="#sdk-dependencies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><a href="https://github.com/sendbird/sendbird-calls-ios">Sendbird Calls SDK for iOS</a>, which can be integrated by <code>CocoaPods</code></li>
<li><a href="https://github.com/sendbird/sendbird-calls-android">Sendbird Calls SDK for Android</a>, which can be integrated by <code>Gradle</code></li>
</ul>
<br />
<h2 id="getting-started" class="tsd-anchor-link">Getting started<a href="#getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This section gives you information you need to get started with Sendbird Calls SDK for React-Native.</p>
<h3 id="install-calls-sdk" class="tsd-anchor-link">Install Calls SDK<a href="#install-calls-sdk" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h3 id="react-native" class="tsd-anchor-link">React-Native<a href="#react-native" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="shell"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">i</span><span class="hl-1"> </span><span class="hl-2">@sendbird/calls-react-native</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">pod-install</span>
</code><button type="button">Copy</button></pre>

<br />
<h2 id="configuring-the-application-for-the-sdk" class="tsd-anchor-link">Configuring the application for the SDK<a href="#configuring-the-application-for-the-sdk" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h2 id="ios" class="tsd-anchor-link">iOS<a href="#ios" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="background-mode" class="tsd-anchor-link">Background Mode<a href="#background-mode" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To support background operation, VoIP-enabled apps must have <code>Background Mode</code> enabled in the <strong>Xcode Project</strong> &gt; <strong>Signing &amp; Capabilities</strong> pane. Select the checkbox for <strong>Voice over IP</strong>.</p>
<p>To receive push notifications, the app also must have <strong>Push Notifications</strong> enabled in the <strong>Xcode Project</strong> &gt; <strong>Signing &amp; Capabilities</strong> pane.</p>
<blockquote>
<p>For more information about VoIP push notification and PushKit, see Apple's <a href="https://developer.apple.com/documentation/callkit">CallKit</a> and <a href="https://developer.apple.com/documentation/pushkit">PushKit</a></p>
</blockquote>
<h3 id="configure-the-apps-infoplist-file" class="tsd-anchor-link">Configure the appâ€™s Info.plist File<a href="#configure-the-apps-infoplist-file" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>iOS requires that apps display authorization message to grant the app access to the camera and microphone.</p>
<ul>
<li>Microphone-enabled apps must include the <a href="https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW25">NSMicrophoneUsageDescription</a> key in the appâ€™s <code>Info.plist</code> file.</li>
<li>Camera-enabled apps must include the <a href="https://developer.apple.com/documentation/bundleresources/information_property_list/nscamerausagedescription">NSCameraUsageDescription</a> key in the appâ€™s <code>Info.plist</code> file.</li>
</ul>
<h2 id="android" class="tsd-anchor-link">Android<a href="#android" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="optional-configure-proguard-to-shrink-code-and-resources" class="tsd-anchor-link">(Optional) Configure ProGuard to shrink code and resources<a href="#optional-configure-proguard-to-shrink-code-and-resources" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When you build your APK with <code>minifyEnabled true</code>, add the following line to the module's ProGuard rules file.</p>
<pre><code><span class="hl-1"># </span><span class="hl-3">SendBird</span><span class="hl-1"> </span><span class="hl-3">Calls</span><span class="hl-1"> </span><span class="hl-4">SDK</span><br/><span class="hl-1">-</span><span class="hl-3">keep</span><span class="hl-1"> </span><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-6">com</span><span class="hl-1">.</span><span class="hl-6">sendbird</span><span class="hl-1">.</span><span class="hl-6">calls</span><span class="hl-1">.** { *; }</span><br/><span class="hl-1">-</span><span class="hl-3">keep</span><span class="hl-1"> </span><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-6">org</span><span class="hl-1">.</span><span class="hl-6">webrtc</span><span class="hl-1">.** { *; }</span><br/><span class="hl-1">-</span><span class="hl-3">dontwarn</span><span class="hl-1"> </span><span class="hl-3">org</span><span class="hl-1">.</span><span class="hl-3">webrtc</span><span class="hl-1">.**</span><br/><span class="hl-1">-</span><span class="hl-3">keepattributes</span><span class="hl-1"> </span><span class="hl-3">InnerClasses</span>
</code><button>Copy</button></pre>

<br />
<h2 id="getting-permissions" class="tsd-anchor-link">Getting Permissions<a href="#getting-permissions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The SDK requires system permissions. The following permissions allow the SDK to access the microphone and use audio.</p>
<ul>
<li>Camera</li>
<li>Microphone</li>
<li>Bluetooth (Android)</li>
</ul>
<p>We recommend <a href="https://github.com/zoontek/react-native-permissions"><code>react-native-permissions</code></a> library</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> </span><span class="hl-3">Permissions</span><span class="hl-1">, { </span><span class="hl-3">PERMISSIONS</span><span class="hl-1"> } </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-2">&#39;react-native-permissions&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">CALL_PERMISSIONS</span><span class="hl-1"> = </span><span class="hl-3">Platform</span><span class="hl-1">.</span><span class="hl-0">select</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-3">android:</span><span class="hl-1"> [</span><span class="hl-4">PERMISSIONS</span><span class="hl-1">.</span><span class="hl-4">ANDROID</span><span class="hl-1">.</span><span class="hl-4">CAMERA</span><span class="hl-1">, </span><span class="hl-4">PERMISSIONS</span><span class="hl-1">.</span><span class="hl-4">ANDROID</span><span class="hl-1">.</span><span class="hl-4">RECORD_AUDIO</span><span class="hl-1">, </span><span class="hl-4">PERMISSIONS</span><span class="hl-1">.</span><span class="hl-4">ANDROID</span><span class="hl-1">.</span><span class="hl-4">BLUETOOTH_CONNECT</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-3">ios:</span><span class="hl-1"> [</span><span class="hl-4">PERMISSIONS</span><span class="hl-1">.</span><span class="hl-4">IOS</span><span class="hl-1">.</span><span class="hl-4">CAMERA</span><span class="hl-1">, </span><span class="hl-4">PERMISSIONS</span><span class="hl-1">.</span><span class="hl-4">IOS</span><span class="hl-1">.</span><span class="hl-4">MICROPHONE</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-3">default:</span><span class="hl-1"> [],</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">result</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">Permissions</span><span class="hl-1">.</span><span class="hl-0">requestMultiple</span><span class="hl-1">(</span><span class="hl-4">CALL_PERMISSIONS</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="making-your-first-direct-call" class="tsd-anchor-link">Making your first direct call<a href="#making-your-first-direct-call" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Follow the step-by-step instructions below to authenticate and make your first direct call.</p>
<h3 id="step-1-initialize-the-sendbirdcall-instance-in-a-client-app" class="tsd-anchor-link">Step 1: Initialize the SendbirdCall instance in a client app<a href="#step-1-initialize-the-sendbirdcall-instance-in-a-client-app" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>As shown below, the <code>SendbirdCalls</code> instance must be initiated when a client app is launched.
Initialize the <code>SendbirdCalls</code> instance with the <code>APP_ID</code> of the Sendbird application you would like to use to make a call.</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> { </span><span class="hl-3">SendbirdCalls</span><span class="hl-1"> } </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sendbird/calls-react-native&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">initialize</span><span class="hl-1">(</span><span class="hl-4">APP_ID</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>Note: If another initialization with another <code>APP_ID</code> takes place, all existing data in the app will be deleted and the <code>SendbirdCalls</code> instance will be initialized with the new <code>APP_ID</code>.</p>
</blockquote>
<h3 id="step-2-authenticate-a-user-and-register-a-push-token" class="tsd-anchor-link">Step 2: Authenticate a user and register a push token<a href="#step-2-authenticate-a-user-and-register-a-push-token" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>In order to make and receive calls, authenticate the user with SendBird server with the <code>SendbirdCalls.authenticate()</code> method and <strong>register a push token</strong> to Sendbird.</p>
<h4 id="ios-1" class="tsd-anchor-link">iOS<a href="#ios-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Register a VoIP push token by using the <code>SendbirdCalls.ios_registerVoIPPushToken()</code> method after authentication has completed.
VoIP Push Notification will also enable receiving calls even when the app is in the background or terminated state.
A valid APNS certificate also needs to be registered on the <a href="https://dashboard.sendbird.com/auth/signin">Sendbird Dashboard</a>: <strong>Application</strong> &gt; <strong>Settings</strong> &gt; <strong>Notifications</strong> &gt; <strong>Add certificate</strong>.
For more details on registering push tokens, refer to Calls SDK for React-Native doc.</p>
<blockquote>
<p><strong>NOTE</strong>: In order to receive incoming calls to a user's device, you must implement either VoIP notifications or remote notifications.
If you want to register a APNS token, you can register APNS token by using <code>SendbirdCalls.registerPushToken()</code> method</p>
<p>refer to Calls SDK for iOS doc.</p>
</blockquote>
<h4 id="android-1" class="tsd-anchor-link">Android<a href="#android-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Register a FCM push token by using the <code>SendbirdCalls.registerPushToken()</code> method after authentication has completed.
Push Notification will also enable receiving calls even when the app is in the background or closed entirely.</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> { </span><span class="hl-3">SendbirdCalls</span><span class="hl-1"> } </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sendbird/calls-react-native&#39;</span><span class="hl-1">;</span><br/><span class="hl-7">import</span><span class="hl-1"> </span><span class="hl-3">RNVoipPushNotification</span><span class="hl-1"> </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-2">&#39;react-native-voip-push-notification&#39;</span><span class="hl-1">;</span><br/><span class="hl-7">import</span><span class="hl-1"> </span><span class="hl-3">messaging</span><span class="hl-1"> </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@react-native-firebase/messaging&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-8">// Authenticate</span><br/><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">authenticate</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-3">userId:</span><span class="hl-1"> </span><span class="hl-4">USER_ID</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">accessToken:</span><span class="hl-1"> </span><span class="hl-4">ACCESS_TOKEN</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><span class="hl-1">    .</span><span class="hl-0">then</span><span class="hl-1">(</span><span class="hl-3">user</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-8">// The user has been authenticated successfully</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    .</span><span class="hl-0">catch</span><span class="hl-1">(</span><span class="hl-3">error</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-8">// error</span><br/><span class="hl-1">    })</span><br/><br/><span class="hl-8">// Update FCM push token</span><br/><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">Platform</span><span class="hl-1">.</span><span class="hl-4">OS</span><span class="hl-1"> === </span><span class="hl-2">&#39;android&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">fcmToken</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-0">messaging</span><span class="hl-1">().</span><span class="hl-0">getToken</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">registerPushToken</span><span class="hl-1">(</span><span class="hl-3">fcmToken</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-8">// The FCM Push Token has been registered successfully</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-8">// Update VoIP push token</span><br/><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">Platform</span><span class="hl-1">.</span><span class="hl-4">OS</span><span class="hl-1"> === </span><span class="hl-2">&#39;ios&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">RNVoipPushNotification</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-2">&#39;register&#39;</span><span class="hl-1">, </span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-3">voipToken</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">ios_registerVoIPPushToken</span><span class="hl-1">(</span><span class="hl-3">voipToken</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-8">// The VoIP Push Token has been registered successfully</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-3">RNVoipPushNotification</span><span class="hl-1">.</span><span class="hl-0">registerVoipToken</span><span class="hl-1">();</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="step-3-add-an-event-handler" class="tsd-anchor-link">Step 3: Add an event handler<a href="#step-3-add-an-event-handler" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The SDK provides two types of event handlers for various events that client apps may respond to: <code>SendbirdCallListener</code> Listener and <code>DirectCallListener</code></p>
<h4 id="--sendbirdcalllistener" class="tsd-anchor-link">- SendbirdCallListener<a href="#--sendbirdcalllistener" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Register a device-specific <code>onRinging</code> event handler using the <code>SendbirdCalls.setListener()</code> method.
It is recommended to add the event handler during initialization because it is a prerequisite for detecting onRinging event.
The code below shows the way device-wide events such as incoming calls are handled once <code>SendbirdCallListener.onRinging</code> is added.</p>
<pre><code class="ts"><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">setListener</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">onRinging</span><span class="hl-1">(</span><span class="hl-3">callProps</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-8">// Process incoming call</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<table>
<thead>
<tr>
<th>Listener</th>
<th>Invoked when</th>
</tr>
</thead>
<tbody>
<tr>
<td>onRinging</td>
<td>Incoming calls are received in the calleeâ€™s device.</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>NOTE</strong>: You can set up only one SendbirdCallListener.</p>
</blockquote>
<h4 id="--directcalllistener" class="tsd-anchor-link">- DirectCallListener<a href="#--directcalllistener" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Register a call-specific <code>DirectCallListener</code> event handler using the <code>DirectCall.addListener()</code> method.
Responding to call-specific events, such as establishing a successful call connection, is then handled as shown below:</p>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">unsubscribe</span><span class="hl-1"> = </span><span class="hl-3">directCall</span><span class="hl-1">.</span><span class="hl-0">addListener</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">onEstablished</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">call</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onConnected</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">call</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onEnded</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">call</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onRemoteAudioSettingsChanged</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">call</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onRemoteVideoSettingsChanged</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">call</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onCustomItemsUpdated</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">call</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">, </span><span class="hl-3">updatedKeys</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">[]) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onCustomItemsDeleted</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">call</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">, </span><span class="hl-3">deletedKeys</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">[]) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onReconnecting</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">call</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onReconnected</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">call</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onAudioDeviceChanged</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">call</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">, </span><span class="hl-3">info</span><span class="hl-1">: </span><span class="hl-6">AudioDeviceChangedInfo</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onRemoteRecordingStatusChanged</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">call</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onUserHoldStatusChanged</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">call</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">, </span><span class="hl-3">isLocalUser</span><span class="hl-1">: </span><span class="hl-6">boolean</span><span class="hl-1">, </span><span class="hl-3">isUserOnHold</span><span class="hl-1">: </span><span class="hl-6">boolean</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onLocalVideoSettingsChanged</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">call</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">unsubscribe</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p><strong>NOTE</strong> Don't forget remove the listener.
For example, you can call <code>unsubscribe()</code> from <code>onEnded</code> of listener you set or clean-up of <code>useEffect</code>.</p>
</blockquote>
<br/>
<table>
<thead>
<tr>
<th>Method</th>
<th>Invocation criteria</th>
</tr>
</thead>
<tbody>
<tr>
<td>onEstablished()</td>
<td>The callee accepted the call using the method <code>directCall.accept()</code>. However, neither the caller or calleeâ€™s devices are connected to media devices yet.</td>
</tr>
<tr>
<td>onConnected()</td>
<td>A connection is established between the caller and calleeâ€™s media devices such as microphones and speakers. The voice or video call can begin.</td>
</tr>
<tr>
<td>onEnded()</td>
<td>The call is ended on either the caller or the calleeâ€™s devices. When the <code>directCall.end()</code> method is used from either party, a call ends. directCall.end event listener is also invoked if the call is ended for other reasons. Refer to Call results in Appendix for all possible reasons for call termination.</td>
</tr>
<tr>
<td>onRemoteAudioSettingsChanged()</td>
<td>The other party changed their audio settings.</td>
</tr>
<tr>
<td>onRemoteVideoSettingsChanged()</td>
<td>The other party changed their video settings.</td>
</tr>
<tr>
<td>onCustomItemsUpdated()</td>
<td>One or more of <code>DirectCall</code>â€™s custom items (metadata) have been updated.</td>
</tr>
<tr>
<td>onCustomItemsDeleted()</td>
<td>One or more of <code>DirectCall</code>â€™s custom items (metadata) have been deleted.</td>
</tr>
<tr>
<td>onReconnecting()</td>
<td><code>DirectCall</code> started attempting to reconnect to the other party after a media connection disruption.</td>
</tr>
<tr>
<td>onReconnected()</td>
<td>The disrupted media connection reestablished.</td>
</tr>
<tr>
<td>onAudioDeviceChanged()</td>
<td>The audio device used in the call has changed.</td>
</tr>
<tr>
<td>onRemoteRecordingStatusChanged()</td>
<td>The other user's recording status has been changed.</td>
</tr>
<tr>
<td>onUserHoldStatusChanged()</td>
<td>The local or remote user puts a call on hold or removes a hold from a call.</td>
</tr>
<tr>
<td>onLocalVideoSettingsChanged()</td>
<td>The local user's video settings has been changed.</td>
</tr>
</tbody>
</table>
<h3 id="step-4-make-a-call" class="tsd-anchor-link">Step 4: Make a call<a href="#step-4-make-a-call" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>First, prepare the call parameters to initiate a call.
The parameter contains the initial call configuration, such as calleeâ€™s user id, audio or video capabilities, and <code>CallOptions</code> object.
Once prepared, the call parameters are then passed into the <code>SendbirdCalls.dial()</code> method to start the call.</p>
<blockquote>
<p><strong>NOTE</strong>: For reduce the event delay between Native and JavaScript, SDK does not convert <code>DirectCallProperties</code> to <code>DirectCall</code> on <code>SendbirdCallListener.onRinging</code> or <code>SendbirdCalls.Dial</code>.
So you need to get <code>DirectCall</code> using <code>SendbirdCalls.getDirectCall()</code> after receiving the event or call method.</p>
</blockquote>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">callOptions</span><span class="hl-1">: </span><span class="hl-6">CallOptions</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-3">audioEnabled:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">videoEnabled:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">frontCamera:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">callProps</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">dial</span><span class="hl-1">(</span><span class="hl-4">CALLEE_ID</span><span class="hl-1">, </span><span class="hl-4">IS_VIDEO_CALL</span><span class="hl-1">, </span><span class="hl-3">callOptions</span><span class="hl-1">);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">directCall</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">getDirectCall</span><span class="hl-1">(</span><span class="hl-3">callProps</span><span class="hl-1">.</span><span class="hl-3">callId</span><span class="hl-1">);</span><br/><span class="hl-3">directCall</span><span class="hl-1">.</span><span class="hl-0">addListener</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-8">// ...</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="step-5-receive-a-call" class="tsd-anchor-link">Step 5: Receive a call<a href="#step-5-receive-a-call" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Register <code>SendbirdCallListener</code> first to receive incoming calls.
Accept or decline incoming calls using the <code>directCall.accept()</code> or the <code>directCall.end()</code> methods.
If the call is accepted, a media session will automatically be established by the SDK.</p>
<p>Before accepting any calls, the <code>DirectCall.addListener</code> must be registered upfront in the <code>SendbirdCallListener.onRinging</code>.
Once registered, <code>DirectCallListener</code> enables reacting to in-call events through listener methods.</p>
<pre><code class="ts"><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">setListener</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">onRinging</span><span class="hl-1">(</span><span class="hl-3">callProps</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">directCall</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">getDirectCall</span><span class="hl-1">(</span><span class="hl-3">callProps</span><span class="hl-1">.</span><span class="hl-3">callId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">unsubscribe</span><span class="hl-1"> = </span><span class="hl-3">directCall</span><span class="hl-1">.</span><span class="hl-0">addListener</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-0">onEnded</span><span class="hl-1">(</span><span class="hl-3">call</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">unsubscribe</span><span class="hl-1">();</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">directCall</span><span class="hl-1">.</span><span class="hl-0">accept</span><span class="hl-1">();</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<br />
<h2 id="implementation-direct-call-guide" class="tsd-anchor-link">Implementation direct call guide<a href="#implementation-direct-call-guide" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="make-a-call" class="tsd-anchor-link">Make a call<a href="#make-a-call" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Register <code>SendbirdCallLisetner</code> first to receive incoming calls.
Accept or decline incoming calls using the <code>directCall.accept()</code> or the <code>directCall.end()</code> methods.
If the call is accepted, a media session will automatically be established by the SDK.</p>
<p>Before accepting any calls, the <code>DirectCall.addListener</code> must be registered upfront in the <code>SendbirdCallListener.onRinging</code>.
Once registered, <code>DirectCallListener</code> enables reacting to in-call events through listener methods.</p>
<pre><code class="ts"><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">setListener</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">onRinging</span><span class="hl-1">(</span><span class="hl-3">callProps</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">directCall</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">getDirectCall</span><span class="hl-1">(</span><span class="hl-3">callProps</span><span class="hl-1">.</span><span class="hl-3">callId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">unsubscribe</span><span class="hl-1"> = </span><span class="hl-3">directCall</span><span class="hl-1">.</span><span class="hl-0">addListener</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-0">onEnded</span><span class="hl-1">(</span><span class="hl-3">call</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">unsubscribe</span><span class="hl-1">();</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">directCall</span><span class="hl-1">.</span><span class="hl-0">accept</span><span class="hl-1">();</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="receive-a-call" class="tsd-anchor-link">Receive a call<a href="#receive-a-call" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Register <code>SendbirdCallListener</code> first to receive incoming calls.
Accept or decline incoming calls using the <code>directCall.accept()</code> or the <code>directCall.end()</code> methods.
If the call is accepted, a media session will automatically be established by the SDK.</p>
<p>Before accepting any calls, the <code>DirectCall.addListener</code> must be registered upfront in the <code>SendbirdCallListener.onRinging</code>.
Once registered, <code>DirectCallListener</code> enables reacting to in-call events through listener methods.</p>
<pre><code class="ts"><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">setListener</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">onRinging</span><span class="hl-1">(</span><span class="hl-3">callProps</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">directCall</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">getDirectCall</span><span class="hl-1">(</span><span class="hl-3">callProps</span><span class="hl-1">.</span><span class="hl-3">callId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">unsubscribe</span><span class="hl-1"> = </span><span class="hl-3">directCall</span><span class="hl-1">.</span><span class="hl-0">addListener</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-0">onEnded</span><span class="hl-1">(</span><span class="hl-3">call</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">unsubscribe</span><span class="hl-1">();</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">directCall</span><span class="hl-1">.</span><span class="hl-0">accept</span><span class="hl-1">();</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="receive-a-call-in-background" class="tsd-anchor-link">Receive a call in background<a href="#receive-a-call-in-background" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="ios-2" class="tsd-anchor-link">iOS<a href="#ios-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When the app is in the foreground, incoming call events are received through the SDKâ€™s persistent internal server connection.
However, when the app is terminated or in the background, incoming calls are received through PushKit.
PushKit messages received by the <code>Native iOS SDK</code> must be delivered to the <code>SendBirdCall.pushRegistry(_:didReceiveIncomingPushWith:for:)</code> method.</p>
<blockquote>
<p><strong>NOTE</strong>: in objective-c, <code>[SBCSendBirdCall pushRegistry:_ didReceiveIncomingPushWith:for:]</code></p>
</blockquote>
<p>So you should implement native features that <code>CallKit</code> and <code>PushKit(VoIP Push)</code> to your react-native app.
(e.g. <a href="https://github.com/react-native-webrtc/react-native-callkeep"><code>react-native-callkeep</code></a>, <a href="https://github.com/react-native-webrtc/react-native-voip-push-notification"><code>react-native-voip-push-notification</code></a>)</p>
<pre><code class="objc">// AppDelegate.h

#import <PushKit/PushKit.h>

@interface AppDelegate : UIResponder <UIApplicationDelegate, RCTBridgeDelegate, PKPushRegistryDelegate>
</code><button type="button">Copy</button></pre>

<pre><code class="objc">// AppDelegate.m

#import <RNCallKeep.h>
#import <SendBirdCalls/SendBirdCalls-Swift.h>

// ...

- (void)pushRegistry:(PKPushRegistry *)registry didReceiveIncomingPushWithPayload:(PKPushPayload *)payload forType:(PKPushType)type withCompletionHandler:(void (^)())completion
{
  [SBCSendBirdCall pushRegistry:registry didReceiveIncomingPushWith:payload for:type completionHandler:^(NSUUID * _Nullable uuid) {

    // IMPORTANT: Incoming calls MUST be reported when receiving a PushKit push.
    //  If you don't report to CallKit, the app will be terminated.

    if(uuid != nil) {

      // Report valid call

      SBCDirectCall* call = [SBCSendBirdCall callForUUID: uuid];
      [RNCallKeep reportNewIncomingCall: [uuid UUIDString]
                                 handle: [[call remoteUser] userId]
                             handleType: @"generic"
                               hasVideo: [call isVideoCall]
                    localizedCallerName: [[call remoteUser] nickname]
                        supportsHolding: YES
                           supportsDTMF: YES
                       supportsGrouping: YES
                     supportsUngrouping: YES
                            fromPushKit: YES
                                payload: [payload dictionaryPayload]
                  withCompletionHandler: completion];
    } else {

      // Report and end invalid call

      NSUUID* uuid = [NSUUID alloc];
      NSString* uuidString = [uuid UUIDString];

      [RNCallKeep reportNewIncomingCall: uuidString
                                 handle: @"invalid"
                             handleType: @"generic"
                               hasVideo: NO
                    localizedCallerName: @"invalid"
                        supportsHolding: NO
                           supportsDTMF: NO
                       supportsGrouping: NO
                     supportsUngrouping: NO
                            fromPushKit: YES
                                payload: [payload dictionaryPayload]
                  withCompletionHandler: completion];
      [RNCallKeep endCallWithUUID:uuidString reason:1];
    }
  }];
}
</code><button type="button">Copy</button></pre>

<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> </span><span class="hl-3">RNCallKeep</span><span class="hl-1"> </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-2">&#39;react-native-callkeep&#39;</span><span class="hl-1">;</span><br/><span class="hl-7">import</span><span class="hl-1"> </span><span class="hl-3">RNVoipPushNotification</span><span class="hl-1"> </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-2">&#39;react-native-voip-push-notification&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">setListener</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">onRinging</span><span class="hl-1">(</span><span class="hl-3">callProps</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">directCall</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">getDirectCall</span><span class="hl-1">(</span><span class="hl-3">callProps</span><span class="hl-1">.</span><span class="hl-3">callId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-8">// handle incoming call with CallKit (react-native-callkeep)</span><br/><span class="hl-1">    </span><span class="hl-3">RNCallKeep</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-2">&#39;answerCall&#39;</span><span class="hl-1">, </span><span class="hl-5">async</span><span class="hl-1"> () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">directCall</span><span class="hl-1">.</span><span class="hl-0">accept</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-3">RNCallKeep</span><span class="hl-1">.</span><span class="hl-0">addEventListener</span><span class="hl-1">(</span><span class="hl-2">&#39;endCall&#39;</span><span class="hl-1">, </span><span class="hl-5">async</span><span class="hl-1"> () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">directCall</span><span class="hl-1">.</span><span class="hl-0">end</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">unsubscribe</span><span class="hl-1"> = </span><span class="hl-3">directCall</span><span class="hl-1">.</span><span class="hl-0">addListener</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-0">onEnded</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-3">RNCallKeep</span><span class="hl-1">.</span><span class="hl-0">removeEventListener</span><span class="hl-1">(</span><span class="hl-2">&#39;answerCall&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-3">RNCallKeep</span><span class="hl-1">.</span><span class="hl-0">removeEventListener</span><span class="hl-1">(</span><span class="hl-2">&#39;endCall&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-3">RNCallKeep</span><span class="hl-1">.</span><span class="hl-0">endAllCalls</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-0">unsubscribe</span><span class="hl-1">();</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">RNCallKeep</span><span class="hl-1">.</span><span class="hl-0">displayIncomingCall</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-3">callProps</span><span class="hl-1">.</span><span class="hl-3">ios_callUUID</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">callProps</span><span class="hl-1">.</span><span class="hl-3">remoteUser</span><span class="hl-1">?.</span><span class="hl-3">userId</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">callProps</span><span class="hl-1">.</span><span class="hl-3">remoteUser</span><span class="hl-1">?.</span><span class="hl-3">nickname</span><span class="hl-1"> ?? </span><span class="hl-2">&#39;Unknown&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;generic&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-3">callProps</span><span class="hl-1">.</span><span class="hl-3">isVideoCall</span><span class="hl-1">,</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">RNVoipPushNotification</span><span class="hl-1">.</span><span class="hl-0">registerVoipToken</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h4 id="android-2" class="tsd-anchor-link">Android<a href="#android-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When the app is in the foreground, incoming call events are received through the SDKâ€™s persistent internal server connection.
However, when the app is closed or in the background, incoming calls are received through the Firebase Cloud Messagingâ€™s (FCM) push notifications.
The FCM messages received by SendbirdCalls must be delivered to the SDK through the <code>SendbirdCalls.android_handleFirebaseMessageData()</code> method.</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> </span><span class="hl-3">messaging</span><span class="hl-1">, { </span><span class="hl-3">FirebaseMessagingTypes</span><span class="hl-1"> } </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@react-native-firebase/messaging&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">setListener</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">onRinging</span><span class="hl-1">(</span><span class="hl-3">callProps</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">directCall</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">getDirectCall</span><span class="hl-1">(</span><span class="hl-3">callProps</span><span class="hl-1">.</span><span class="hl-3">callId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-8">// handle incoming call with what you want (e.g. Notifee foreground service)</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">firebaseListener</span><span class="hl-1"> = </span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-3">message</span><span class="hl-1">: </span><span class="hl-6">FirebaseMessagingTypes</span><span class="hl-1">.</span><span class="hl-6">RemoteMessage</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">android_handleFirebaseMessageData</span><span class="hl-1">(</span><span class="hl-3">message</span><span class="hl-1">.</span><span class="hl-3">data</span><span class="hl-1">);</span><br/><span class="hl-1">};</span><br/><span class="hl-0">messaging</span><span class="hl-1">().</span><span class="hl-0">setBackgroundMessageHandler</span><span class="hl-1">(</span><span class="hl-3">firebaseListener</span><span class="hl-1">);</span><br/><span class="hl-0">messaging</span><span class="hl-1">().</span><span class="hl-0">onMessage</span><span class="hl-1">(</span><span class="hl-3">firebaseListener</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="handle-a-current-call" class="tsd-anchor-link">Handle a current call<a href="#handle-a-current-call" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>During an ongoing call, a caller may mute or unmute their microphone by using the <code>directCall.muteMicrophone()</code> or <code>directCall.unmuteMicrophone()</code> methods.
<code>DirectCallListener.onRemoteAudioSettingsChanged()</code> listener method will notify any changes that a remote user makes on audio settings to the local user.</p>
<p>The caller may start or stop video using the <code>directCall.startVideo()</code> or <code>directCall.stopVideo()</code> methods.
If the remote user changes the video settings, the local user will be notified through the <code>DirectCallListener.onRemoteVideoSettingsChanged()</code> listener.
The current video device can be changed by using the <code>directCall.selectVideoDevice()</code> or <code>directCall.switchCamera()</code>.</p>
<pre><code class="swift">// mute my microphone
directCall.muteMicrophone();

// unmute my microphone
directCall.unmuteMicrophone();

// starts to show video
directCall.startVideo();

// stops showing video
directCall.stopVideo();

// changes current video device
directCall.selectVideoDevice(VIDEO_DEVICE).catch(error => {
})

// receives the event
directCall.addListener({
  ...

  onRemoteAudioSettingsChanged: (callProps: DirectCallProperties) => {
    if (callProps.isRemoteAudioEnabled) {
        // The peer has been unmuted.
        // Consider displaying an unmuted icon.
    } else {
        // The peer has been muted.
        // Consider displaying and toggling a muted icon.
    }
  },

  onRemoteVideoSettingsChanged: (callProps: DirectCallProperties) => {
    if (callProps.isRemoteVideoEnabled) {
        // The peer has started video.
    } else {
        // The peer has stopped video.
    }
  },
});
</code><button type="button">Copy</button></pre>

<h3 id="end-a-call" class="tsd-anchor-link">End a call<a href="#end-a-call" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>A caller may end a call using the <code>directCall.end()</code> method. The event will then be processed through the <code>DirectCallListener.onEnded()</code> listener.
This listener is also triggered if the remote user ends the call.</p>
<pre><code class="ts"><span class="hl-8">// End a call</span><br/><span class="hl-3">call</span><span class="hl-1">.</span><span class="hl-0">end</span><span class="hl-1">();</span><br/><br/><span class="hl-8">// receives the event</span><br/><span class="hl-3">directCall</span><span class="hl-1">.</span><span class="hl-0">addListener</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-8">// ...</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onEnded</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">callProps</span><span class="hl-1">: </span><span class="hl-6">DirectCallProperties</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// Consider releasing or destroying call-related view from here.</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="unregister-a-push-token-and-deauthenticate-a-user" class="tsd-anchor-link">Unregister a push token and deauthenticate a user<a href="#unregister-a-push-token-and-deauthenticate-a-user" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="--unregister-one-or-all-voip-push-tokens" class="tsd-anchor-link">- Unregister one or all VoIP push tokens<a href="#--unregister-one-or-all-voip-push-tokens" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><blockquote>
<p><strong>Warning</strong>: unregister all is not supported yet.</p>
</blockquote>
<p>Users will no longer receive call notifications after the VoIP push token has been unregistered
through the <code>unregisterPushToken(TOKEN)</code> or <code>unregisterVoIPPushToken(TOKEN)</code> method before deauthenticate.</p>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">unregisterPushToken</span><span class="hl-1"> = () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">unregisterPushToken</span><span class="hl-1">(</span><span class="hl-4">TOKEN</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-8">// or</span><br/><br/><span class="hl-1">  </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">ios_unregisterVoIPPushToken</span><span class="hl-1">(</span><span class="hl-4">TOKEN</span><span class="hl-1">);</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<h4 id="--deauthenticate-a-user" class="tsd-anchor-link">- Deauthenticate a user<a href="#--deauthenticate-a-user" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When users log out of their call client apps, they must be deauthenticated with <code>SendbirdCalls.deauthenticate()</code> method.</p>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">signOut</span><span class="hl-1"> = () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">deauthenticate</span><span class="hl-1">();</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<h3 id="display-video" class="tsd-anchor-link">Display Video<a href="#display-video" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="tsx"><span class="hl-7">import</span><span class="hl-1"> { </span><span class="hl-3">DirectCallVideoView</span><span class="hl-1"> } </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sendbird/calls-react-native&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">YourApp</span><span class="hl-1"> = () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">directCall</span><span class="hl-1"> = </span><span class="hl-0">useDirectCall</span><span class="hl-1">(</span><span class="hl-3">callId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-7">return</span><span class="hl-1"> (</span><br/><span class="hl-1">    </span><span class="hl-9">&lt;</span><span class="hl-6">View</span><span class="hl-9">&gt;</span><br/><span class="hl-1">      </span><span class="hl-5">{</span><span class="hl-8">/* Remote video view */</span><span class="hl-5">}</span><br/><span class="hl-1">      </span><span class="hl-9">&lt;</span><span class="hl-6">DirectCallVideoView</span><span class="hl-1"> </span><span class="hl-10">viewType</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-2">&#39;remote&#39;</span><span class="hl-5">}</span><span class="hl-1"> </span><span class="hl-10">callId</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-3">directCall</span><span class="hl-11">.</span><span class="hl-3">callId</span><span class="hl-5">}</span><span class="hl-1"> </span><span class="hl-9">/&gt;</span><br/><br/><span class="hl-1">      </span><span class="hl-5">{</span><span class="hl-8">/* Local video view */</span><span class="hl-5">}</span><br/><span class="hl-1">      </span><span class="hl-9">&lt;</span><span class="hl-6">DirectCallVideoView</span><span class="hl-1"> </span><span class="hl-10">viewType</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-2">&#39;local&#39;</span><span class="hl-5">}</span><span class="hl-1"> </span><span class="hl-10">callId</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-3">directCall</span><span class="hl-11">.</span><span class="hl-3">callId</span><span class="hl-5">}</span><span class="hl-1"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-1">    </span><span class="hl-9">&lt;/</span><span class="hl-6">View</span><span class="hl-9">&gt;</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<h3 id="mirror-a-directcallvideoview" class="tsd-anchor-link">Mirror a DirectCallVideoView<a href="#mirror-a-directcallvideoview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="tsx"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">VideoView</span><span class="hl-1"> = () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-9">&lt;</span><span class="hl-6">DirectCallVideoView</span><span class="hl-1"> </span><span class="hl-10">mirror</span><span class="hl-1">=</span><span class="hl-5">{false}</span><span class="hl-1"> </span><span class="hl-10">callId</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-2">&#39;CALL_ID&#39;</span><span class="hl-5">}</span><span class="hl-1"> </span><span class="hl-10">viewType</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-2">&#39;remote&#39;</span><span class="hl-5">}</span><span class="hl-1"> </span><span class="hl-9">/&gt;</span><span class="hl-1">;</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<h3 id="retrieve-a-call-information" class="tsd-anchor-link">Retrieve a call information<a href="#retrieve-a-call-information" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The local or remote userâ€™s information is available via the <code>directCall.localUser</code> and <code>directCall.remoteUser</code> properties.</p>
<h3 id="retrieve-call-history" class="tsd-anchor-link">Retrieve call history<a href="#retrieve-call-history" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Sendbird server automatically stores details of calls, which can be retrieved later to display call history for users.
A userâ€™s call history is available through a <code>DirectCallLogListQuery</code> instance.</p>
<pre><code class="tsx"><span class="hl-7">import</span><span class="hl-1"> { </span><span class="hl-3">DirectCallEndResult</span><span class="hl-1">, </span><span class="hl-3">DirectCallLogListQuery</span><span class="hl-1">, </span><span class="hl-3">SendbirdCalls</span><span class="hl-1"> } </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sendbird/calls-react-native&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">useCallHistory</span><span class="hl-1"> = () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> [</span><span class="hl-4">history</span><span class="hl-1">, </span><span class="hl-4">setHistory</span><span class="hl-1">] = </span><span class="hl-0">useState</span><span class="hl-1">&lt;</span><span class="hl-6">DirectCallLog</span><span class="hl-1">[]&gt;([]);</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">query</span><span class="hl-1"> = </span><span class="hl-0">useRef</span><span class="hl-1">&lt;</span><span class="hl-6">DirectCallLogListQuery</span><span class="hl-1">&gt;();</span><br/><br/><span class="hl-1">  </span><span class="hl-0">useEffect</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">effect</span><span class="hl-1"> = </span><span class="hl-5">async</span><span class="hl-1"> () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">query</span><span class="hl-1">.</span><span class="hl-3">current</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">createDirectCallLogListQuery</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-3">myRole:</span><span class="hl-1"> </span><span class="hl-2">&#39;ALL&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">endResults:</span><span class="hl-1"> [</span><br/><span class="hl-1">          </span><span class="hl-3">DirectCallEndResult</span><span class="hl-1">.</span><span class="hl-4">COMPLETED</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">DirectCallEndResult</span><span class="hl-1">.</span><span class="hl-4">CANCELED</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">DirectCallEndResult</span><span class="hl-1">.</span><span class="hl-4">DECLINED</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">DirectCallEndResult</span><span class="hl-1">.</span><span class="hl-4">DIAL_FAILED</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">DirectCallEndResult</span><span class="hl-1">.</span><span class="hl-4">ACCEPT_FAILED</span><span class="hl-1">,</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">        </span><span class="hl-3">limit:</span><span class="hl-1"> </span><span class="hl-12">20</span><span class="hl-1">,</span><br/><span class="hl-1">      });</span><br/><br/><span class="hl-1">      </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">data</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">query</span><span class="hl-1">.</span><span class="hl-3">current</span><span class="hl-1">.</span><span class="hl-0">next</span><span class="hl-1">();</span><br/><span class="hl-1">      </span><span class="hl-0">setHistory</span><span class="hl-1">(</span><span class="hl-3">data</span><span class="hl-1">);</span><br/><span class="hl-1">    };</span><br/><br/><span class="hl-1">    </span><span class="hl-0">effect</span><span class="hl-1">();</span><br/><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">query</span><span class="hl-1">.</span><span class="hl-3">current</span><span class="hl-1">.</span><span class="hl-0">release</span><span class="hl-1">();</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">  }, []);</span><br/><br/><span class="hl-1">  </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">next</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">query</span><span class="hl-1">.</span><span class="hl-3">hasNext</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">data</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">query</span><span class="hl-1">.</span><span class="hl-3">current</span><span class="hl-1">.</span><span class="hl-0">next</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-0">setHistory</span><span class="hl-1">((</span><span class="hl-3">prev</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-3">prev</span><span class="hl-1">.</span><span class="hl-0">concat</span><span class="hl-1">(...</span><span class="hl-3">data</span><span class="hl-1">));</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-3">history</span><span class="hl-1">,</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<table>
<thead>
<tr>
<th>Params</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>limit</td>
<td>Specifies the number of call history entries to return at once.</td>
</tr>
<tr>
<td>myRole</td>
<td>Returns the call history of the specified role. For example, the <code>params.myRole = CALLEE</code> returns only the calleeâ€™s call history.)</td>
</tr>
<tr>
<td>endResults</td>
<td>Filters the results based on the call end result such as <code>COMPLETED</code>,<code>NO_ANSWER</code>, etc. If multiple values are specified, they are processed as an <code>OR</code> condition. For example, for <code>endResults: [NO_ANSWER]</code>, only the history entries that resulted in <code>NO_ANSWER</code> will be returned.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>next()</td>
<td>Used to query the call history from Sendbird Calls server.</td>
</tr>
<tr>
<td>hasNext</td>
<td>If <strong>true</strong>, there are additional call history entries yet to be retrieved.</td>
</tr>
<tr>
<td>isLoading</td>
<td>If <strong>true</strong>, the call history is being retrieved from the server.</td>
</tr>
</tbody>
</table>
<h3 id="timeout-options" class="tsd-anchor-link">Timeout options<a href="#timeout-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><blockquote>
<p><strong>Warning</strong>: Not supported yet.</p>
</blockquote>
<p>The following table lists a set of methods of the <code>SendbirdCalls</code> class.</p>
<h3 id="sound-effects" class="tsd-anchor-link">Sound effects<a href="#sound-effects" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You should add files to your native project
for Android, add your files to <code>res/raw/{filename}.mp3</code>
for iOS, when you add files to a project, xcode automatically added to the bundled resources (Build Phases &gt; Copy Bundle Resources)</p>
<h4 id="--sound-types" class="tsd-anchor-link">- Sound types<a href="#--sound-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>dialing</td>
<td>Refers to a sound that is played on a callerâ€™s side when the caller makes a call to a callee.</td>
</tr>
<tr>
<td>ringing</td>
<td>Refers to a sound that is played on a calleeâ€™s side when receiving a call.</td>
</tr>
<tr>
<td>reconnecting</td>
<td>Refers to a sound that is played when a connection is lost, but immediately tries to reconnect. Users are also allowed to customize the ringtone.</td>
</tr>
<tr>
<td>reconnnected</td>
<td>Refers to a sound that is played when a connection is re-established.</td>
</tr>
</tbody>
</table>
<h4 id="--add-sound" class="tsd-anchor-link">- Add sound<a href="#--add-sound" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>addDirectCallSound</td>
<td>Adds a specific sound to a direct call such as a ringtone or an alert tone with an Android resource ID.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>soundType</td>
<td>SoundType</td>
<td>Specifies the sound type to be used according to the event.</td>
</tr>
<tr>
<td>fileName</td>
<td>int</td>
<td>Specifies the Android resource ID.</td>
</tr>
</tbody>
</table>
<h4 id="--remove-sound" class="tsd-anchor-link">- Remove sound<a href="#--remove-sound" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>removeDirectCallSound</td>
<td>Removes a specific sound from a direct call.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>soundType</td>
<td>SoundType</td>
<td>Specifies the sound type to be used according to the event.</td>
</tr>
</tbody>
</table>
<br />
<h3 id="call-results" class="tsd-anchor-link">Call results<a href="#call-results" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Information relating the end result of a call can be obtained at any time through the <code>directCall.endResult</code> property, best invoked within the <code>onEnded()</code> listener.</p>
<table>
<thead>
<tr>
<th>DirectCallEndResult</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>NO_ANSWER</td>
<td>The callee failed to either accept or decline the call within a specific amount of time.</td>
</tr>
<tr>
<td>CANCELED</td>
<td>The caller canceled the call before the callee could accept or decline.</td>
</tr>
<tr>
<td>DECLINED</td>
<td>The callee declined the call.</td>
</tr>
<tr>
<td>COMPLETED</td>
<td>The call ended after either party ended it</td>
</tr>
<tr>
<td>TIMED_OUT</td>
<td>Sendbird Calls server failed to establish a media session between the caller and callee within a specific amount of time.</td>
</tr>
<tr>
<td>CONNECTION_LOST</td>
<td>The data stream from either the caller or the callee has stopped due to a <code>WebRTC</code> connection issue.</td>
</tr>
<tr>
<td>DIAL_FAILED</td>
<td>The <code>dial()</code> method call has failed.</td>
</tr>
<tr>
<td>ACCEPT_FAILED</td>
<td>The <code>accept()</code> method call has failed.</td>
</tr>
<tr>
<td>OTHER_DEVICE_ACCEPTED</td>
<td>The incoming call was accepted on a different device. This device received an incoming call notification, but the call ended when a different device accepted it.</td>
</tr>
<tr>
<td>NONE</td>
<td>Default value of the endResult.</td>
</tr>
<tr>
<td>UNKNOWN</td>
<td>Ended with unknown reason.</td>
</tr>
</tbody>
</table>
<br />
<h2 id="making-your-first-group-call" class="tsd-anchor-link">Making your first group call<a href="#making-your-first-group-call" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Follow the step-by-step instructions below to authenticate and make your first group call.</p>
<h3 id="step-1-initialize-the-sendbirdcall-instance-in-a-client-app-1" class="tsd-anchor-link">Step 1: Initialize the SendbirdCall instance in a client app<a href="#step-1-initialize-the-sendbirdcall-instance-in-a-client-app-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>As shown below, the <code>SendbirdCalls</code> instance must be initiated when a client app is launched.
Initialize the <code>SendbirdCalls</code> instance with the <code>APP_ID</code> of the Sendbird application you would like to use to make a call.</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> { </span><span class="hl-3">SendbirdCalls</span><span class="hl-1"> } </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sendbird/calls-react-native&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">initialize</span><span class="hl-1">(</span><span class="hl-4">APP_ID</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>Note: If another initialization with another <code>APP_ID</code> takes place, all existing data in the app will be deleted and the <code>SendbirdCalls</code> instance will be initialized with the new <code>APP_ID</code>.</p>
</blockquote>
<h3 id="step-2-authenticate-a-user" class="tsd-anchor-link">Step 2: Authenticate a user<a href="#step-2-authenticate-a-user" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>In order to participate in the group calls, authenticate the user with SendBird server with the <code>SendbirdCalls.authenticate()</code> method.</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> { </span><span class="hl-3">SendbirdCalls</span><span class="hl-1"> } </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sendbird/calls-react-native&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-8">// Authenticate</span><br/><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">authenticate</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-3">userId:</span><span class="hl-1"> </span><span class="hl-4">USER_ID</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">accessToken:</span><span class="hl-1"> </span><span class="hl-4">ACCESS_TOKEN</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><span class="hl-1">  .</span><span class="hl-0">then</span><span class="hl-1">((</span><span class="hl-3">user</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// The user has been authenticated successfully</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-0">catch</span><span class="hl-1">((</span><span class="hl-3">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// error</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<h3 id="step-3-create-a-room" class="tsd-anchor-link">Step 3: Create a room<a href="#step-3-create-a-room" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>By calling the <code>SendbirdCalls.createRoom()</code> by passing <code>SMALL_ROOM_FOR_VIDEO</code> as the parameter, you can create a room for up to 6 participants to make a video call. When a room is created, the status of the room becomes <code>OPEN</code> and <code>ROOM_ID</code> is generated.</p>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">room</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">createRoom</span><span class="hl-1">(</span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-3">RoomType</span><span class="hl-1">.</span><span class="hl-4">SMALL_ROOM_FOR_VIDEO</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p><strong>Note</strong>: Share the room ID with other users for them to enter the room from the client app.</p>
</blockquote>
<h3 id="step-4-enter-a-room" class="tsd-anchor-link">Step 4: Enter a room<a href="#step-4-enter-a-room" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>A user can search a room with a specific <code>ROOM_ID</code> to participate in a group call at any time.</p>
<h4 id="--retrieve-a-room-instance" class="tsd-anchor-link">- retrieve a room instance<a href="#--retrieve-a-room-instance" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>To enter a room, you must first acquire the room instance from Sendbird server with the room ID. To fetch the most up-to-date room instance from Sendbird server, use the <code>SendbirdCalls.fetchRoomById()</code> method. Also, you can use the <code>SendbirdCalls.getCachedRoomById()</code> method that returns the most recently cached room instance from Sendbird Calls SDK.</p>
<pre><code class="ts"><span class="hl-8">// get room instance using ROOM_ID</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">room</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">fetchRoomById</span><span class="hl-1">(</span><span class="hl-4">ROOM_ID</span><span class="hl-1">);</span><br/><br/><span class="hl-8">// get cached room instance using ROOM_ID</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">cachedRoom</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">getCachedRoomById</span><span class="hl-1">(</span><span class="hl-4">ROOM_ID</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="--enter-a-room" class="tsd-anchor-link">- enter a room<a href="#--enter-a-room" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Once the room is retrieved, call the <code>enter()</code> method to enter the room. An object that sets whether to use video and audio is passed to <code>enter()</code> as a parameter. If no parameters are passed, both audio and video are enabled as default.</p>
<p>When a user enters a room, a participant is created with a unique <code>participant ID</code> to represent the user in the room.</p>
<p>If you create a room using <code>SendbirdCalls.createRoom()</code>, you can use the returned room instance without needing to get a room instance.</p>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">enterParams</span><span class="hl-1">: </span><span class="hl-6">EnterParams</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-3">audioEnabled:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">videoEnabled:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">}</span><br/><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-0">enter</span><span class="hl-1">(</span><span class="hl-3">enterParams</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p><strong>NOTE</strong>: If there is no room whose ID is room ID passed as a parameter among the cached room instances, <code>SendbirdCalls.getCachedRoomById()</code> returns <code>null</code>. So you should need to check the returned value before calling <code>enter()</code>.</p>
</blockquote>
<h3 id="step-5-handle-events-in-a-room" class="tsd-anchor-link">Step 5: Handle events in a room<a href="#step-5-handle-events-in-a-room" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>A user can receive events of a room that they are currently participating. Users will be notified when other participants enter or leave the room, change their media settings, or when the room is deleted.</p>
<h4 id="--add-event-listener" class="tsd-anchor-link">- Add event listener<a href="#--add-event-listener" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Add an event listener for the user to receive events that occur in a room that the user joins as a participant.</p>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">unsubscribe</span><span class="hl-1"> = </span><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-0">addListener</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">onRemoteParticipantEntered</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">: </span><span class="hl-6">Participant</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onRemoteParticipantExited</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">: </span><span class="hl-6">Participant</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onRemoteParticipantStreamStarted</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">: </span><span class="hl-6">Participant</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onRemoteVideoSettingsChanged</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">: </span><span class="hl-6">Participant</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onRemoteAudioSettingsChanged</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">: </span><span class="hl-6">Participant</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onAudioDeviceChanged</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">info</span><span class="hl-1">: </span><span class="hl-6">AudioDeviceChangedInfo</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onCustomItemsUpdated</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">updatedKeys</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">[]) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onCustomItemsDeleted</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">deletedKeys</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">[]) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onDeleted</span><span class="hl-3">:</span><span class="hl-1"> () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onError</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">e</span><span class="hl-1">: </span><span class="hl-6">SendbirdError</span><span class="hl-1">, </span><span class="hl-3">participant</span><span class="hl-1">: </span><span class="hl-6">Participant</span><span class="hl-1"> | </span><span class="hl-6">null</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">unsubscribe</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p><strong>NOTE</strong> Don't forget to remove the listener.
For example, you can call <code>unsubscribe()</code> from clean-up of <code>useEffect</code>.</p>
</blockquote>
<br/>
<table>
<thead>
<tr>
<th>Method</th>
<th>Invocation criteria</th>
</tr>
</thead>
<tbody>
<tr>
<td>onRemoteParticipantEntered()</td>
<td>Invoked when a remote participant has entered a room.</td>
</tr>
<tr>
<td>onRemoteParticipantExited()</td>
<td>Invoked when a remote participant has exited a room.</td>
</tr>
<tr>
<td>onRemoteParticipantStreamStarted()</td>
<td>Invoked when a remote participant has started media streaming.</td>
</tr>
<tr>
<td>onRemoteVideoSettingsChanged()</td>
<td>Invoked when a remote participant's video settings have changed.</td>
</tr>
<tr>
<td>onRemoteAudioSettingsChanged()</td>
<td>Invoked when a remote participant's audio settings have changed.</td>
</tr>
<tr>
<td>onAudioDeviceChanged()</td>
<td>Invoked when the audio device used in the call has changed.</td>
</tr>
<tr>
<td>onCustomItemsUpdated()</td>
<td>Invoked when one or more of <code>Room</code>â€™s custom items (metadata) have been updated.</td>
</tr>
<tr>
<td>onCustomItemsDeleted()</td>
<td>Invoked when one or more of <code>Room</code>â€™s custom items (metadata) have been deleted.</td>
</tr>
<tr>
<td>onDeleted()</td>
<td>Invoked when <code>Room</code> is deleted.</td>
</tr>
<tr>
<td>onError()</td>
<td>Invoked when a participant stream is lost due to reconnection failure.</td>
</tr>
</tbody>
</table>
<br />
<h3 id="step-6-exit-a-room" class="tsd-anchor-link">Step 6: Exit a room<a href="#step-6-exit-a-room" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To leave a room, call <code>exit()</code>. On the room handlers of the remaining participants, the <code>onRemoteParticipantExited()</code> method will be called.</p>
<pre><code class="ts"><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-0">exit</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<br />
<h2 id="implementation-group-call-guide" class="tsd-anchor-link">Implementation group call guide<a href="#implementation-group-call-guide" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="create-a-room" class="tsd-anchor-link">Create a room<a href="#create-a-room" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>A room is a must to use a <strong>Group calls</strong> to talk to multiple people. You can create a new room using <code>SendbirdCalls.createRoom()</code>. Once the room is created, you must use <code>enter()</code> to enter the room. And then you have to share the <code>ROOM_ID</code> of the room with other users in order for other participants can enter the room.</p>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">room</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">createRoom</span><span class="hl-1">(</span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-3">RoomType</span><span class="hl-1">.</span><span class="hl-4">SMALL_ROOM_FOR_VIDEO</span><span class="hl-1">);</span><br/><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-0">enter</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="handle-events-in-a-room" class="tsd-anchor-link">Handle events in a room<a href="#handle-events-in-a-room" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>A user can receive events of a room that they are currently participating. Users will be notified when other participants enter or leave the room, change their media settings, or when the room is deleted.</p>
<p>You don't need to define all events method, you just need to define the methods you want to implement. And, don't forget to remove the listener. For example, you can call <code>unsubscribe()</code> from clean-up of <code>useEffect</code>.</p>
<pre><code class="tsx"><span class="hl-0">useEffect</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">unsubscribe</span><span class="hl-1"> = </span><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-0">addListener</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">onRemoteParticipantEntered</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">: </span><span class="hl-6">Participant</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">    </span><span class="hl-0">onRemoteParticipantExited</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">: </span><span class="hl-6">Participant</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">    </span><span class="hl-0">onRemoteParticipantStreamStarted</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">: </span><span class="hl-6">Participant</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {},</span><br/><br/><span class="hl-1">    ...</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">unsubscribe</span><span class="hl-1">();</span><br/><span class="hl-1">}, []);</span>
</code><button type="button">Copy</button></pre>

<h3 id="enter-a-room" class="tsd-anchor-link">Enter a room<a href="#enter-a-room" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Use <code>SendbirdCalls.fetchRoomById()</code> with <code>ROOM_ID</code> to get the room instance you want to enter. Or, if you have fetched the room before, you can use <code>SendbirdCalls.getCachedRoomById()</code> to get a cached room instance. Then call the <code>enter()</code> method to enter the room.</p>
<p>When a user enters a room, a participant is created with a unique <code>participant ID</code> to represent the user in the room. When the remote user enters the room, the <code>onRemoteParticipantEntered()</code> listener method is called. And then when the participant has started media streaming, <code>onRemoteParticipantStreamStarted()</code> listener method is called.</p>
<blockquote>
<p><strong>NOTE</strong>: If there is no room whose ID is room ID passed as a parameter among the cached room instances, <code>SendbirdCalls.getCachedRoomById()</code> returns <code>null</code>. So you should need to check the returned value.</p>
</blockquote>
<pre><code class="ts"><span class="hl-8">// get room instance using ROOM_ID</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">room</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">fetchRoomById</span><span class="hl-1">(</span><span class="hl-4">ROOM_ID</span><span class="hl-1">);</span><br/><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-0">enter</span><span class="hl-1">()</span><br/><br/><span class="hl-8">// get cached room instance using ROOM_ID</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-4">cachedRoom</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">getCachedRoomById</span><span class="hl-1">(</span><span class="hl-4">ROOM_ID</span><span class="hl-1">);</span><br/><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">cachedRoom</span><span class="hl-1">?.</span><span class="hl-0">enter</span><span class="hl-1">()</span><br/><br/><span class="hl-8">// receives the event</span><br/><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-0">addListener</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">onRemoteParticipantEntered</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">: </span><span class="hl-6">Participant</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// the remote participant entered the room</span><br/><span class="hl-1">  },</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onRemoteParticipantStreamStarted</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">: </span><span class="hl-6">Participant</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// the remote participant has started media streaming</span><br/><span class="hl-1">  },</span><br/><br/><span class="hl-1">  ...</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="handle-a-current-call-1" class="tsd-anchor-link">Handle a current call<a href="#handle-a-current-call-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Participants can mute or unmute their microphones using the <code>room.localParticipant.muteMicrophone()</code> or <code>room.localParticipant.unmuteMicrophone()</code> methods.
<code>onRemoteAudioSettingsChanged()</code> listener method is invoked whenever the remote participant's audio settings change.</p>
<p>You can also use the <code>room.localParticipant.startVideo()</code> and <code>room.localParticipant.stopVideo()</code> methods to turn video off or on. <code>onRemoteVideoSettingsChanged()</code> method is invoked whenever the remote participant's video settings change.</p>
<p>If you want to switch to using the device's front and back cameras, call <code>room.localParticipant.switchCamera()</code>.</p>
<pre><code class="ts"><span class="hl-8">// mute my microphone</span><br/><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-3">localParticipant</span><span class="hl-1">.</span><span class="hl-0">muteMicrophone</span><span class="hl-1">();</span><br/><br/><span class="hl-8">// unmute my microphone</span><br/><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-3">localParticipant</span><span class="hl-1">.</span><span class="hl-0">unmuteMicrophone</span><span class="hl-1">();</span><br/><br/><span class="hl-8">// starts to show video</span><br/><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-3">localParticipant</span><span class="hl-1">.</span><span class="hl-0">startVideo</span><span class="hl-1">();</span><br/><br/><span class="hl-8">// stops showing video</span><br/><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-3">localParticipant</span><span class="hl-1">.</span><span class="hl-0">stopVideo</span><span class="hl-1">();</span><br/><br/><span class="hl-8">// changes current video device</span><br/><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-3">localParticipant</span><span class="hl-1">.</span><span class="hl-0">switchCamera</span><span class="hl-1">();</span><br/><br/><span class="hl-8">// receives the event</span><br/><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-0">addListener</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">onRemoteVideoSettingsChanged</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">: </span><span class="hl-6">Participant</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">.</span><span class="hl-3">isVideoEnabled</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-8">// remote Participant has started video.</span><br/><span class="hl-1">    } </span><span class="hl-7">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-8">// remote Participant has stopped video.</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onRemoteAudioSettingsChanged</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">: </span><span class="hl-6">Participant</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">.</span><span class="hl-3">isAudioEnabled</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-8">// remote Participant has been unmuted.</span><br/><span class="hl-1">      </span><span class="hl-8">// Consider displaying an unmuted icon.</span><br/><span class="hl-1">    } </span><span class="hl-7">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-8">// remote Participant has been muted.</span><br/><span class="hl-1">      </span><span class="hl-8">// Consider displaying and toggling a muted icon.</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><br/><span class="hl-1">  ...</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="exit-a-room" class="tsd-anchor-link">Exit a room<a href="#exit-a-room" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Participants can use the <code>exit()</code> method to leave the room and end the group call. When the remote participant leaves the room, the <code>onRemoteParticipantExited()</code> listener method is called.</p>
<pre><code class="ts"><span class="hl-8">// Exit a room</span><br/><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-0">exit</span><span class="hl-1">();</span><br/><br/><span class="hl-8">// receives the event</span><br/><span class="hl-3">room</span><span class="hl-1">.</span><span class="hl-0">addListener</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">onRemoteParticipantExited</span><span class="hl-3">:</span><span class="hl-1"> (</span><span class="hl-3">participant</span><span class="hl-1">: </span><span class="hl-6">Participant</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// Consider destroying the remote participant&#39;s view.</span><br/><span class="hl-1">  },</span><br/><br/><span class="hl-1">  ...</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="display-video-1" class="tsd-anchor-link">Display Video<a href="#display-video-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>By passing the <code>participant</code> instance and <code>ROOM_ID</code> to the <code>GroupCallVideoView</code> component, you can display the streamed view on the screen. Group calls can have up to 6 people, so you should need to think about how to arrange views on the screen depending on the number of participants.</p>
<pre><code class="tsx"><span class="hl-7">import</span><span class="hl-1"> { </span><span class="hl-3">useEffect</span><span class="hl-1">, </span><span class="hl-3">useState</span><span class="hl-1"> } </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-2">&#39;react&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">import</span><span class="hl-1"> { </span><span class="hl-3">GroupCallVideoView</span><span class="hl-1">, </span><span class="hl-3">Room</span><span class="hl-1">, </span><span class="hl-3">SendbirdCalls</span><span class="hl-1"> } </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sendbird/calls-react-native&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">YourApp</span><span class="hl-1"> = () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> [</span><span class="hl-4">room</span><span class="hl-1">, </span><span class="hl-4">setRoom</span><span class="hl-1">] = </span><span class="hl-0">useState</span><span class="hl-1">&lt;</span><span class="hl-6">Room</span><span class="hl-1">&gt;();</span><br/><br/><span class="hl-1">  </span><span class="hl-0">useEffect</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">SendbirdCalls</span><span class="hl-1">.</span><span class="hl-0">getCachedRoomById</span><span class="hl-1">(</span><span class="hl-4">ROOM_ID</span><span class="hl-1">).</span><span class="hl-0">then</span><span class="hl-1">((</span><span class="hl-3">room</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">setRoom</span><span class="hl-1">(</span><span class="hl-3">room</span><span class="hl-1">));</span><br/><span class="hl-1">  }, []);</span><br/><br/><span class="hl-1">  </span><span class="hl-7">return</span><span class="hl-1"> (</span><br/><span class="hl-1">    </span><span class="hl-9">&lt;</span><span class="hl-6">View</span><span class="hl-9">&gt;</span><br/><span class="hl-1">      </span><span class="hl-5">{</span><span class="hl-3">room</span><span class="hl-11">?.</span><span class="hl-3">participants</span><span class="hl-11">.</span><span class="hl-0">map</span><span class="hl-11">((</span><span class="hl-3">participant</span><span class="hl-11">) </span><span class="hl-5">=&gt;</span><span class="hl-11"> (</span><br/><span class="hl-11">        </span><span class="hl-9">&lt;</span><span class="hl-6">GroupCallVideoView</span><span class="hl-11"> </span><span class="hl-10">participant</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-3">participant</span><span class="hl-5">}</span><span class="hl-11"> </span><span class="hl-10">roomId</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-3">room</span><span class="hl-11">.</span><span class="hl-3">roomId</span><span class="hl-5">}</span><span class="hl-11"> </span><span class="hl-10">resizeMode</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-2">&#39;contain&#39;</span><span class="hl-5">}</span><span class="hl-11"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-11">      ))</span><span class="hl-5">}</span><br/><span class="hl-1">    </span><span class="hl-9">&lt;/</span><span class="hl-6">View</span><span class="hl-9">&gt;</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<br/>
<table>
<thead>
<tr>
<th>Props</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>participant</td>
<td>participant instance to display on screen</td>
</tr>
<tr>
<td>roomId</td>
<td>ID of the participating room</td>
</tr>
<tr>
<td>resizeMode</td>
<td>how to resize the image. 'contain', 'cover', 'center'</td>
</tr>
<tr>
<td>style</td>
<td>style object for component</td>
</tr>
</tbody>
</table>
<h3 id="retrieve-a-participant-information" class="tsd-anchor-link">Retrieve a participant information<a href="#retrieve-a-participant-information" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The local or remote participantâ€™s information is available via the <code>room.participants</code> or <code>room.localParticipant</code> and <code>room.remoteParticipants</code> properties.</p>
<br />
<h2 id="appendix" class="tsd-anchor-link">Appendix<a href="#appendix" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="encoding-configurations" class="tsd-anchor-link">Encoding Configurations<a href="#encoding-configurations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="ios-3" class="tsd-anchor-link">iOS<a href="#ios-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><table>
<thead>
<tr>
<th>Category</th>
<th>Value</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Frames per second</td>
<td>24 fps</td>
<td></td>
</tr>
<tr>
<td>Maximum resolution</td>
<td>720p</td>
<td>1280x720 px; standard HD</td>
</tr>
<tr>
<td>Audio Codec</td>
<td>OPUS</td>
<td></td>
</tr>
<tr>
<td>Video Codec</td>
<td>H.264, VP8</td>
<td>H.264 is used between iOS devices as a default codec.</td>
</tr>
</tbody>
</table>
<h4 id="android-3" class="tsd-anchor-link">Android<a href="#android-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><table>
<thead>
<tr>
<th>Category</th>
<th>Value</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Frames per second</td>
<td>24</td>
<td></td>
</tr>
<tr>
<td>Maximum resolution</td>
<td>720p</td>
<td>1280 x 720; standard HD</td>
</tr>
<tr>
<td>Audio codec</td>
<td>OPUS</td>
<td></td>
</tr>
<tr>
<td>Video codec</td>
<td>VP8</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="sdk-sizes" class="tsd-anchor-link">SDK Sizes<a href="#sdk-sizes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="ios-4" class="tsd-anchor-link">iOS<a href="#ios-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><table>
<thead>
<tr>
<th>File</th>
<th>Raw Files</th>
<th>Compiled Size</th>
</tr>
</thead>
<tbody>
<tr>
<td>Calls SDK (1.7.0)</td>
<td>77.1 MB</td>
<td>2.32 MB</td>
</tr>
<tr>
<td>WebRTC SDK (1.3.0)</td>
<td>1.18 GB</td>
<td>6.32 MB</td>
</tr>
</tbody>
</table>
<p>(Xcode 12.3, Any iOS Device (arm64))</p>
<h4 id="android-4" class="tsd-anchor-link">Android<a href="#android-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><table>
<thead>
<tr>
<th>File</th>
<th>Raw files</th>
<th>Compiled size</th>
</tr>
</thead>
<tbody>
<tr>
<td>Calls SDK</td>
<td>1.77MB</td>
<td>1.18MB</td>
</tr>
<tr>
<td>WebRTC SDK</td>
<td>26.8MB</td>
<td>12MB</td>
</tr>
</tbody>
</table>
<h3 id="call-relay-protocol" class="tsd-anchor-link">Call relay protocol<a href="#call-relay-protocol" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Sendbird Calls is based on WebRTC to enable real-time calls between users with P2P connections, but sometimes connectivity issues may occur for users due to network policies that wonâ€™t allow WebRTC communications through Firewalls and NATs (Network Address Translators). For this, Sendbird Calls uses two different types of protocols, <strong>Session Traversal Utilities for NAT (STUN)</strong> and <strong>Traversal Using Relays around NAT (TURN)</strong>. <strong>STUN</strong> and <strong>TURN</strong> are protocols that support establishing a connection between users.</p>
<blockquote>
<p><strong>Note</strong>: See our <a href="https://github.com/sendbird/guidelines-calls/tree/master/Recommendation%20on%20firewall%20configuration">GitHub page</a> to learn about the requirements and how to use the Calls SDKs behind a firewall.</p>
</blockquote>
<hr>
<h4 id="how-stun-and-turn-works" class="tsd-anchor-link">How STUN and TURN works<a href="#how-stun-and-turn-works" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Session Traversal Utilities for NAT (STUN) is a protocol that helps hosts to discover the presence of a NAT and the IP address, which eventually makes the connection between two endpoints. Traversal Using Relays around NAT (TURN) is a protocol that serves as a relay extension for data between two parties.</p>
<p>Sendbird Calls first try to make a P2P connection directly using the Calls SDK. If a user is behind a NAT/Firewall, Calls will discover the host's public IP address as a location to establish connection using STUN. In most cases, STUN server is only used during the connection setup and once the session has been established, media will flow directly between two users. If the NAT/Firewall still won't allow the two users to connect directly, TURN server will be used to make a connection to relay the media data between two users. Most of the WebRTC traffic is connected with STUN.</p>
<p><em>- Last Updated: June 17th, 2022</em></p>
<br /></div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#sendbird-calls-sdk-for-react-native"><span>Sendbird <wbr/>Calls <wbr/>SDK for <wbr/>React-<wbr/>Native</span></a><ul><li><a href="#table-of-contents"><span>Table of contents</span></a></li><li><a href="#introduction"><span>Introduction</span></a></li><li><ul><li><a href="#how-it-works"><span>How it works</span></a></li><li><a href="#more-about-sendbird-calls-sdk-for-react-native"><span>More about <wbr/>Sendbird <wbr/>Calls <wbr/>SDK for <wbr/>React-<wbr/>Native</span></a></li></ul></li><li><a href="#before-getting-started"><span>Before getting started</span></a></li><li><ul><li><a href="#requirements"><span>Requirements</span></a></li><li><a href="#sdk-dependencies"><span>SDK dependencies</span></a></li></ul></li><li><a href="#getting-started"><span>Getting started</span></a></li><li><ul><li><a href="#install-calls-sdk"><span>Install <wbr/>Calls <wbr/>SDK</span></a></li><li><a href="#react-native"><span>React-<wbr/>Native</span></a></li></ul></li><li><a href="#configuring-the-application-for-the-sdk"><span>Configuring the application for the <wbr/>SDK</span></a></li><li><a href="#ios"><span>i<wbr/>OS</span></a></li><li><ul><li><a href="#background-mode"><span>Background <wbr/>Mode</span></a></li><li><a href="#configure-the-apps-infoplist-file"><span>Configure the appâ€™s <wbr/>Info.plist <wbr/>File</span></a></li></ul></li><li><a href="#android"><span>Android</span></a></li><li><ul><li><a href="#optional-configure-proguard-to-shrink-code-and-resources"><span>(<wbr/>Optional) <wbr/>Configure <wbr/>Pro<wbr/>Guard to shrink code and resources</span></a></li></ul></li><li><a href="#getting-permissions"><span>Getting <wbr/>Permissions</span></a></li><li><a href="#making-your-first-direct-call"><span>Making your first direct call</span></a></li><li><ul><li><a href="#step-1-initialize-the-sendbirdcall-instance-in-a-client-app"><span>Step 1: <wbr/>Initialize the <wbr/>Sendbird<wbr/>Call instance in a client app</span></a></li><li><a href="#step-2-authenticate-a-user-and-register-a-push-token"><span>Step 2: <wbr/>Authenticate a user and register a push token</span></a></li><li><ul><li><a href="#ios-1"><span>i<wbr/>OS</span></a></li><li><a href="#android-1"><span>Android</span></a></li></ul></li><li><a href="#step-3-add-an-event-handler"><span>Step 3: <wbr/>Add an event handler</span></a></li><li><ul><li><a href="#--sendbirdcalllistener"><span>-<wbr/> <wbr/>Sendbird<wbr/>Call<wbr/>Listener</span></a></li><li><a href="#--directcalllistener"><span>-<wbr/> <wbr/>Direct<wbr/>Call<wbr/>Listener</span></a></li></ul></li><li><a href="#step-4-make-a-call"><span>Step 4: <wbr/>Make a call</span></a></li><li><a href="#step-5-receive-a-call"><span>Step 5: <wbr/>Receive a call</span></a></li></ul></li><li><a href="#implementation-direct-call-guide"><span>Implementation direct call guide</span></a></li><li><ul><li><a href="#make-a-call"><span>Make a call</span></a></li><li><a href="#receive-a-call"><span>Receive a call</span></a></li><li><a href="#receive-a-call-in-background"><span>Receive a call in background</span></a></li><li><ul><li><a href="#ios-2"><span>i<wbr/>OS</span></a></li><li><a href="#android-2"><span>Android</span></a></li></ul></li><li><a href="#handle-a-current-call"><span>Handle a current call</span></a></li><li><a href="#end-a-call"><span>End a call</span></a></li><li><a href="#unregister-a-push-token-and-deauthenticate-a-user"><span>Unregister a push token and deauthenticate a user</span></a></li><li><ul><li><a href="#--unregister-one-or-all-voip-push-tokens"><span>-<wbr/> <wbr/>Unregister one or all <wbr/>Vo<wbr/>IP push tokens</span></a></li><li><a href="#--deauthenticate-a-user"><span>-<wbr/> <wbr/>Deauthenticate a user</span></a></li></ul></li><li><a href="#display-video"><span>Display <wbr/>Video</span></a></li><li><a href="#mirror-a-directcallvideoview"><span>Mirror a <wbr/>Direct<wbr/>Call<wbr/>Video<wbr/>View</span></a></li><li><a href="#retrieve-a-call-information"><span>Retrieve a call information</span></a></li><li><a href="#retrieve-call-history"><span>Retrieve call history</span></a></li><li><a href="#timeout-options"><span>Timeout options</span></a></li><li><a href="#sound-effects"><span>Sound effects</span></a></li><li><ul><li><a href="#--sound-types"><span>-<wbr/> <wbr/>Sound types</span></a></li><li><a href="#--add-sound"><span>-<wbr/> <wbr/>Add sound</span></a></li><li><a href="#--remove-sound"><span>-<wbr/> <wbr/>Remove sound</span></a></li></ul></li><li><a href="#call-results"><span>Call results</span></a></li></ul></li><li><a href="#making-your-first-group-call"><span>Making your first group call</span></a></li><li><ul><li><a href="#step-1-initialize-the-sendbirdcall-instance-in-a-client-app-1"><span>Step 1: <wbr/>Initialize the <wbr/>Sendbird<wbr/>Call instance in a client app</span></a></li><li><a href="#step-2-authenticate-a-user"><span>Step 2: <wbr/>Authenticate a user</span></a></li><li><a href="#step-3-create-a-room"><span>Step 3: <wbr/>Create a room</span></a></li><li><a href="#step-4-enter-a-room"><span>Step 4: <wbr/>Enter a room</span></a></li><li><ul><li><a href="#--retrieve-a-room-instance"><span>-<wbr/> retrieve a room instance</span></a></li><li><a href="#--enter-a-room"><span>-<wbr/> enter a room</span></a></li></ul></li><li><a href="#step-5-handle-events-in-a-room"><span>Step 5: <wbr/>Handle events in a room</span></a></li><li><ul><li><a href="#--add-event-listener"><span>-<wbr/> <wbr/>Add event listener</span></a></li></ul></li><li><a href="#step-6-exit-a-room"><span>Step 6: <wbr/>Exit a room</span></a></li></ul></li><li><a href="#implementation-group-call-guide"><span>Implementation group call guide</span></a></li><li><ul><li><a href="#create-a-room"><span>Create a room</span></a></li><li><a href="#handle-events-in-a-room"><span>Handle events in a room</span></a></li><li><a href="#enter-a-room"><span>Enter a room</span></a></li><li><a href="#handle-a-current-call-1"><span>Handle a current call</span></a></li><li><a href="#exit-a-room"><span>Exit a room</span></a></li></ul></li><li><a href="#display-video-1"><span>Display <wbr/>Video</span></a></li><li><ul><li><a href="#retrieve-a-participant-information"><span>Retrieve a participant information</span></a></li></ul></li><li><a href="#appendix"><span>Appendix</span></a></li><li><ul><li><a href="#encoding-configurations"><span>Encoding <wbr/>Configurations</span></a></li><li><ul><li><a href="#ios-3"><span>i<wbr/>OS</span></a></li><li><a href="#android-3"><span>Android</span></a></li></ul></li><li><a href="#sdk-sizes"><span>SDK <wbr/>Sizes</span></a></li><li><ul><li><a href="#ios-4"><span>i<wbr/>OS</span></a></li><li><a href="#android-4"><span>Android</span></a></li></ul></li><li><a href="#call-relay-protocol"><span>Call relay protocol</span></a></li><li><ul><li><a href="#how-stun-and-turn-works"><span>How <wbr/>STUN and <wbr/>TURN works</span></a></li></ul></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@sendbird/calls-react-native</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
